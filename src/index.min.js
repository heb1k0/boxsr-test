import"./style.css";const boxsrButton=document.querySelector(".boxsr-test");boxsrButton.addEventListener("click",()=>{document.querySelector(".boxsr-fullscreen")?(document.querySelector(".boxsr-fullscreen").classList.add("boxsr-fullscreen--active"),setTimeout(()=>{FullDiv.classList.add("boxsr-fullscreen--opacity")},300)):boxsrTest()});const testObject={name:"boxsr",steps:[{title:"Crea tu perfil",description:"Antes de nada vamos a conocernos un poco, yo soy JON, tu asesor virtual. <br> 多Y tu eres?",type:"text",placeholder:"mi nomnbre aqui",label:"Me llamo"},{title:"Crea tu perfil",description:'Un placer conocerte <span class="boxsr-name"></span> :) <br> 多Cuando es tu cumplea単os?',type:"date",placeholder:"DD-MM-AAAA",label:"Mi cumplea単os es "}]},boxsrTest=function(){const FullDiv=document.createElement("div");FullDiv.classList.add("boxsr-fullscreen");const ButtonClose=document.createElement("span");ButtonClose.classList.add("boxsr-close"),document.querySelector("body").appendChild(FullDiv),FullDiv.classList.add("boxsr-fullscreen--active"),FullDiv.innerHTML='\n        <img src="https://i.ibb.co/d6rvPTp/logo.png" alt="boxsr" class="boxsr-logo">\n    ',FullDiv.appendChild(ButtonClose);const MainDiv=document.createElement("div");MainDiv.classList.add("boxsr-container");const form=buildFrom();FullDiv.appendChild(MainDiv),MainDiv.appendChild(form),setTimeout(()=>{FullDiv.classList.add("boxsr-fullscreen--opacity")},300),ButtonClose.addEventListener("click",()=>{FullDiv.classList.remove("boxsr-fullscreen--opacity"),setTimeout(()=>{FullDiv.classList.remove("boxsr-fullscreen--opacity")},300)})};document.addEventListener("keydown",(function(event){document.querySelector(".boxsr-fullscreen--active")&&("Escape"!==event.key&&"Backspace"!==event.key||document.querySelector(".boxsr-fullscreen").classList.remove("boxsr-fullscreen--active"))}));const buildFrom=function(){const form=document.createElement("form");form.classList.add("boxsr-form");const totalSteps=testObject.steps.length;let currentStep=0;testObject.steps.forEach((step,index)=>{if("text"===step.type||"date"===step.type){const div=document.createElement("div");div.classList.add("boxsr-form__step"),div.dataset.boxsr=index;const title=document.createElement("h2");title.classList.add("boxsr-form__title"),title.innerHTML=step.title;const description=document.createElement("p");description.classList.add("boxsr-form__description"),description.innerHTML=step.description;const label=document.createElement("label");label.classList.add("boxsr-form__label"),label.innerHTML=step.label;const input=document.createElement("input");input.classList.add("boxsr-form__input"),input.type=step.type,input.placeholder=step.placeholder,input.name=step.label,"text"==input.type&&input.addEventListener("change",e=>{document.querySelector(".boxsr-name").innerHTML=e.target.value}),0!==index&&div.classList.add("boxsr-form__step--hidden"),div.appendChild(title),div.appendChild(description),div.appendChild(label),div.appendChild(input),form.appendChild(div)}});const nextStep=function(){currentStep++,currentStep>=totalSteps?form.submit():showStep()},showStep=function(){document.querySelectorAll(".boxsr-form__step").forEach((item,index)=>{item.classList.add("boxsr-form__step--hidden")}),console.log(`[data-boxsr="${currentStep}"]`);const next=form.querySelector(`[data-boxsr="${currentStep}"]`);next.classList.remove("boxsr-form__step--hidden")},navigator=document.createElement("div");navigator.classList.add("boxsr-form__navigator"),form.appendChild(navigator);const buttonNext=document.createElement("button");return buttonNext.classList.add("boxsr-form__button"),buttonNext.innerHTML="Siguiente",navigator.appendChild(buttonNext),buttonNext.addEventListener("click",e=>{e.preventDefault(),nextStep()}),form};